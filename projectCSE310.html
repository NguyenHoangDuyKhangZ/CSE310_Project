<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous" />
    <link rel="stylesheet" href="project.css" /> 
    <title>Si20k - C·ª≠a h√†ng ƒë·ªì si</title>
       
</head>
<body>
    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Header -->
    <header>
        <nav>
            <div class="logo" onclick="scrollToSection('home')">
                <img src="images/logo.png" alt="Logo" />
                Si20k_Store
            </div>
            <ul class="nav-links">
                <li><a href="#home" onclick="scrollToSection('home')">Trang ch·ªß</a></li>
                <li>
                    <a href="#products">S·∫£n ph·∫©m</a>
                    <ul class="dropdown">
                        <li><a href="#products" onclick="scrollToSection('products')">T·∫•t c·∫£ s·∫£n ph·∫©m</a></li>
                        <li><a href="#" onclick="openCategoryModal('aokhoac')">√Åo kho√°c</a></li>
                        <li><a href="#" onclick="openCategoryModal('quan')">Qu·∫ßn</a></li>
                        <li><a href="#" onclick="openCategoryModal('aothun')">√Åo</a></li>
                    </ul>
                </li>
                <li><a href="#about" onclick="scrollToSection('about')">V·ªÅ ch√∫ng t√¥i</a></li>
                <li><a href="#contact" onclick="scrollToSection('contact')">Li√™n h·ªá</a></li>
            </ul>
            <div class="user-section">
                <div class="user-info" id="userInfo">
                    <span id="userName"></span>
                    <span class="points-badge">‚≠ê <span id="userPoints">0</span> ƒëi·ªÉm</span>
                    <button class="login-btn" onclick="logout()">ƒêƒÉng xu·∫•t</button>
                </div>
                <button class="login-btn" id="loginBtn" onclick="showAuthModal()">ƒêƒÉng nh·∫≠p</button>
                <div class="cart-icon" onclick="toggleCart()">
                    üõí
                    <span class="cart-count" id="cartCount">0</span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <h1>Th·ªùi trang gi√° r·∫ª</h1>
        <p>T·ª± do l·ª±a ch·ªçn nh·ªØng s·∫£n ph·∫©m v·ªõi gi√° ch·ªâ 20k</p>
        <div class="search-bar">
            <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." id="searchInput">
            <button onclick="searchProducts()">T√¨m ki·∫øm</button>
        </div>
    </section>

    <!-- Products Section with Carousel -->
    <section class="products-section" id="products">
        <h2 class="section-title">S·∫£n ph·∫©m n·ªïi b·∫≠t</h2>
        <div class="products-carousel-container">
            <div class="products-grid" id="productsGrid"></div>
        </div>
        <div class="carousel-dots" id="carouselDots"></div>
    </section>

    <!-- Category Modal -->
    <div class="category-modal" id="categoryModal">
        <div class="category-modal-content">
            <div class="category-modal-header">
                <h2 id="categoryTitle">Danh m·ª•c s·∫£n ph·∫©m</h2>
                <div class="modal-close-btn" onclick="closeCategoryModal()">‚úñ</div>
            </div>
            <div class="category-products-grid" id="categoryProductsGrid"></div>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div class="product-detail-modal" id="productDetailModal">
        <div class="product-detail-content">
            <div class="product-detail-header">
                <h2>Chi ti·∫øt s·∫£n ph·∫©m</h2>
                <div class="modal-close-btn" onclick="closeProductDetail()">‚úñ</div>
            </div>
            <div class="product-detail-body">
                <div class="product-images-grid" id="productImagesGrid"></div>
                <div class="product-detail-info">
                    <h3 class="product-detail-name" id="detailName"></h3>
                    <p class="product-detail-desc" id="detailDesc"></p>
                    <div class="product-detail-price" id="detailPrice"></div>
                    <button class="add-to-cart-btn" onclick="addToCartFromDetail()">
                        üõí Th√™m v√†o gi·ªè h√†ng
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- About Us Section -->
    <section class="about_us" id="about">
        <div class="container py-5">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h5><b>Ch√∫ng t√¥i l√† ai?</b></h5>
                    <h1>Si20k_Store</h1>
                    <p>
                        <b>Si20k_Store</b> l√† c·ª≠a h√†ng th·ªùi trang ƒë·ªì si gi√° r·∫ª, chuy√™n cung c·∫•p c√°c s·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng nh∆∞ √°o kho√°c, qu·∫ßn jean, √°o thun... v·ªõi gi√° ch·ªâ t·ª´ 20.000ƒë. Ch√∫ng t√¥i cam k·∫øt mang ƒë·∫øn cho kh√°ch h√†ng tr·∫£i nghi·ªám mua s·∫Øm ti·∫øt ki·ªám, ƒëa d·∫°ng m·∫´u m√£, phong c√°ch tr·∫ª trung v√† th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng.
                    </p>
                    <p>
                        S·ª© m·ªánh c·ªßa ch√∫ng t√¥i l√† gi√∫p b·∫°n t·ª± tin th·ªÉ hi·ªán c√° t√≠nh, ƒë·ªìng th·ªùi g√≥p ph·∫ßn b·∫£o v·ªá m√¥i tr∆∞·ªùng qua vi·ªác t√°i s·ª≠ d·ª•ng th·ªùi trang. H√£y ƒë·∫øn v·ªõi Si20k_Store ƒë·ªÉ kh√°m ph√° nh·ªØng m√≥n ƒë·ªì ƒë·ªôc ƒë√°o, gi√° si√™u t·ªët!
                    </p>
                </div>
                <div class="col-md-3" id ="aboutImage1">
                    <img src="images/n·ªØ.png" class="img-fluid rounded shadow" alt="Gi·ªõi thi·ªáu n·ªØ">
                </div>
                <div class="col-md-3" id ="aboutImage2">
                    <img src="images/nam.png" class="img-fluid rounded shadow" alt="Gi·ªõi thi·ªáu nam">
                </div>
            </div>
        </div>
    </section>

     <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container-fluid">
            <h3 class="section-title">Li√™n H·ªá</h3>
            <h2>Li√™n l·∫°c v·ªõi ch√∫ng t√¥i th√¥ng qua c√°c k√™nh</h2>

            <div class="media-group">
                <div class="row">
                    <div class="col-md-3 col-12">
                        <div class="media">
                            <div class="media-symbol">
                                <i class="fa fa-map-marker" aria-hidden="true"></i>
                            </div>
                            <div class="media-content">
                                <h6 class="mt-0">ƒê·ªãa ch·ªâ</h6>
                                <p>ƒê∆∞·ªùng HL601, B√¨nh D∆∞∆°ng</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3 col-12">
                        <div class="media">
                            <div class="media-symbol">
                                <i class="fa fa-phone" aria-hidden="true"></i>
                            </div>
                            <div class="media-content">
                                <h6 class="mt-0">S·ªë ƒêi·ªán tho·∫°i</h6>
                                <p>(+84)123 456 789</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3 col-12">
                        <div class="media">
                            <div class="media-symbol">
                                <i class="fa fa-envelope" aria-hidden="true"></i>
                            </div>
                            <div class="media-content">
                                <h6 class="mt-0">Email</h6>
                                <p>si20k@gmail.com</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3 col-12">
                        <div class="media">
                            <div class="media-symbol">
                                <i class="fa fa-share" aria-hidden="true"></i>
                            </div>
                            <div class="media-content">
                                <h6 class="mt-0">Follow t·∫°i</h6>
                                <div class="media-social-network">
                                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                                    <a href="#"><i class="fab fa-twitter"></i></a>
                                    <a href="#"><i class="fab fa-instagram"></i></a>
                                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                                    <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ&list=RDdQw4w9WgXcQ&start_radio=1"><i class="fab fa-youtube"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="contact-form-map">
                <div class="map">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3916.9551916172304!2d106.66214001242949!3d10.966754855605524!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3174d1cf33b4b70f%3A0xd79115a44f18b7a7!2zUXXhuq1uIFTGsCBOaMOiIDI!5e0!3m2!1svi!2s!4v1748623174536!5m2!1svi!2s"
                        allowfullscreen="" loading="lazy">
                    </iframe>
                </div>
                <div class="contact-form">
                    <form>
                        <div class="form-group1">
                            <input type="text" placeholder="T√™n c·ªßa b·∫°n" required>
                        </div>
                        <div class="form-group1">
                            <input type="email" placeholder="Email c·ªßa b·∫°n" required>
                        </div>
                        <div class="form-group1">
                            <input type="text" placeholder="Ti√™u ƒë·ªÅ">
                        </div>
                        <div class="form-group1">
                            <textarea placeholder="N·ªôi dung c·∫ßn h·ªó tr·ª£" required></textarea>
                        </div>
                        <button type="submit" class="btn_send">G·ª≠i tin nh·∫Øn</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- Floating Cart -->
    <div class="floating-cart" onclick="toggleCart()">
        üõí Xem gi·ªè h√†ng (<span id="floatingCartCount">0</span>)
    </div>

    <!-- Auth Modal -->
    <div class="modal" id="authModal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeAuthModal()">‚úñ</span>
            <div class="auth-container">
                <div class="auth-tabs">
                    <button class="auth-tab active" onclick="switchTab('login')">ƒêƒÉng nh·∫≠p</button>
                    <button class="auth-tab" onclick="switchTab('register')">ƒêƒÉng k√Ω</button>
                </div>

                <form class="auth-form active" id="loginForm" onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label>Email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i</label>
                        <input type="text" required placeholder="example@email.com">
                    </div>
                    <div class="form-group">
                        <label>M·∫≠t kh·∫©u</label>
                        <input type="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="form-submit">ƒêƒÉng nh·∫≠p</button>
                </form>

                <form class="auth-form" id="registerForm" onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label>H·ªç v√† t√™n</label>
                        <input type="text" required placeholder="Nguy·ªÖn VƒÉn A">
                    </div>
                    <div class="form-group">
                        <label>Email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i</label>
                        <input type="text" required placeholder="example@email.com">
                    </div>
                    <div class="form-group">
                        <label>M·∫≠t kh·∫©u</label>
                        <input type="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <div class="form-group">
                        <label>X√°c nh·∫≠n m·∫≠t kh·∫©u</label>
                        <input type="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="form-submit">ƒêƒÉng k√Ω</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <span class="close-btn" onclick="toggleCart()">‚úñ</span>
            <h2 style="margin-bottom: 1rem; color: #667eea;">Gi·ªè h√†ng c·ªßa b·∫°n</h2>

            <div class="points-display" id="pointsDisplay" style="display: none;">
                <h3>üíé <span id="cartUserPoints">0</span> ƒëi·ªÉm</h3>
                <p>B·∫°n s·∫Ω nh·∫≠n th√™m <span id="earnPoints">0</span> ƒëi·ªÉm t·ª´ ƒë∆°n h√†ng n√†y!</p>
            </div>

            <div id="cartItems"></div>

            <div class="voucher-section">
                <h4 style="margin-bottom: 0.5rem;">üé´ Voucher & M√£ gi·∫£m gi√°</h4>
                <div class="voucher-input">
                    <input type="text" id="voucherInput" placeholder="Nh·∫≠p m√£ voucher">
                    <button onclick="applyVoucher()">√Åp d·ª•ng</button>
                </div>
                <div class="voucher-list" id="voucherList"></div>
            </div>

            <div class="cart-total">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 1rem; color: #666;">
                    <span>T·∫°m t√≠nh:</span>
                    <span id="subtotal">0ƒë</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 1rem; color: #e74c3c;" id="discountRow">
                    <span>Gi·∫£m gi√°:</span>
                    <span id="discount">0ƒë</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                    <span>T·ªïng c·ªông:</span>
                    <span id="cartTotal">0ƒë</span>
                </div>
            </div>

            <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="checkout()">
                Thanh to√°n
            </button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Sample products data
        const products = [
            { id: 1, name: 'iPhone 15 Pro', price: 20000, description: 'Smartphone cao c·∫•p v·ªõi chip A17 Pro', emoji: 'üì±', category: 'tech' },
            { id: 2, name: 'MacBook Pro M3', price: 20000, description: 'Laptop chuy√™n nghi·ªáp cho s√°ng t·∫°o', emoji: 'üíª', category: 'tech' },
            { id: 3, name: 'AirPods Pro', price: 20000, description: 'Tai nghe kh√¥ng d√¢y ch·ªëng ·ªìn', emoji: 'üéß', category: 'tech' },
            { id: 4, name: 'Apple Watch S9', price: 20000, description: 'ƒê·ªìng h·ªì th√¥ng minh th·∫ø h·ªá m·ªõi', emoji: '‚åö', category: 'tech' },
            { id: 5, name: 'iPad Air', price: 20000, description: 'M√°y t√≠nh b·∫£ng ƒëa nƒÉng', emoji: 'üì≤', category: 'tech' },
            { id: 6, name: 'Magic Keyboard', price: 20000, description: 'B√†n ph√≠m cao c·∫•p', emoji: '‚å®Ô∏è', category: 'tech' },
            { id: 7, name: 'AirTag', price: 20000, description: 'Thi·∫øt b·ªã ƒë·ªãnh v·ªã th√¥ng minh', emoji: 'üè∑Ô∏è', category: 'tech' },
            { id: 8, name: 'HomePod Mini', price: 20000, description: 'Loa th√¥ng minh nh·ªè g·ªçn', emoji: 'üîä', category: 'tech' },
            { id: 9, name: 'Magic Mouse', price: 20000, description: 'Chu·ªôt kh√¥ng d√¢y cao c·∫•p', emoji: 'üñ±Ô∏è', category: 'tech' },
            { id: 10, name: 'Apple Pencil', price: 20000, description: 'B√∫t c·∫£m ·ª©ng ch√≠nh h√£ng', emoji: '‚úèÔ∏è', category: 'tech' }
        ];

        // Category products
        const categoryProducts = {
            aokhoac: [
                { id: 101, name: '√Åo kho√°c ƒë·ªè ƒëen c√≥ n√≥n', price: 20000, desc: 'Ch·∫•t li·ªáu d√†y d·∫∑n, ph·ªëi m√†u n·ªïi b·∫≠t', img: 'https://via.placeholder.com/300x200?text=√Åo+kho√°c+1', images: ['https://via.placeholder.com/400x300?text=√Åo+kho√°c+1', 'https://via.placeholder.com/400x300?text=√Åo+kho√°c+1-2'] },
                { id: 102, name: '√Åo kho√°c bomber xanh r√™u', price: 20000, desc: 'Phong c√°ch tr·∫ª trung, ph√π h·ª£p ƒëi h·ªçc', img: 'https://via.placeholder.com/300x200?text=√Åo+kho√°c+2', images: ['https://via.placeholder.com/400x300?text=√Åo+kho√°c+2', 'https://via.placeholder.com/400x300?text=√Åo+kho√°c+2-2'] },
                { id: 103, name: '√Åo kho√°c jean vintage', price: 20000, desc: 'Phong c√°ch c·ªï ƒëi·ªÉn, th·ªùi trang', img: 'https://via.placeholder.com/300x200?text=√Åo+kho√°c+3', images: ['https://via.placeholder.com/400x300?text=√Åo+kho√°c+3', 'https://via.placeholder.com/400x300?text=√Åo+kho√°c+3-2'] },
                { id: 104, name: '√Åo kho√°c hoodie ƒëen', price: 20000, desc: '·∫§m √°p, tho·∫£i m√°i', img: 'https://via.placeholder.com/300x200?text=√Åo+kho√°c+4', images: ['https://via.placeholder.com/400x300?text=√Åo+kho√°c+4', 'https://via.placeholder.com/400x300?text=√Åo+kho√°c+4-2'] },
                { id: 105, name: '√Åo kho√°c da l·ªôn', price: 20000, desc: 'Phong c√°ch nam t√≠nh', img: 'https://via.placeholder.com/300x200?text=√Åo+kho√°c+5', images: ['https://via.placeholder.com/400x300?text=√Åo+kho√°c+5', 'https://via.placeholder.com/400x300?text=√Åo+kho√°c+5-2'] },
                { id: 106, name: '√Åo kho√°c gi√≥ th·ªÉ thao', price: 20000, desc: 'Nh·∫π nh√†ng, nƒÉng ƒë·ªông', img: 'https://via.placeholder.com/300x200?text=√Åo+kho√°c+6', images: ['https://via.placeholder.com/400x300?text=√Åo+kho√°c+6', 'https://via.placeholder.com/400x300?text=√Åo+kho√°c+6-2'] }
            ],
            quan: [
                { id: 201, name: 'Qu·∫ßn jean nam ƒëen', price: 20000, desc: 'Form slimfit, ch·∫•t li·ªáu co gi√£n nh·∫π', img: 'https://via.placeholder.com/300x200?text=Qu·∫ßn+1', images: ['https://via.placeholder.com/400x300?text=Qu·∫ßn+1', 'https://via.placeholder.com/400x300?text=Qu·∫ßn+1-2'] },
                { id: 202, name: 'Qu·∫ßn jean n·ªØ xanh wash', price: 20000, desc: 'Ki·ªÉu d√°ng tr·∫ª trung, ph√π h·ª£p nhi·ªÅu phong c√°ch', img: 'https://via.placeholder.com/300x200?text=Qu·∫ßn+2', images: ['https://via.placeholder.com/400x300?text=Qu·∫ßn+2', 'https://via.placeholder.com/400x300?text=Qu·∫ßn+2-2'] },
                { id: 203, name: 'Qu·∫ßn jean baggy', price: 20000, desc: 'Phong c√°ch oversized th·ªùi th∆∞·ª£ng', img: 'https://via.placeholder.com/300x200?text=Qu·∫ßn+3', images: ['https://via.placeholder.com/400x300?text=Qu·∫ßn+3', 'https://via.placeholder.com/400x300?text=Qu·∫ßn+3-2'] },
                { id: 204, name: 'Qu·∫ßn jean r√°ch g·ªëi', price: 20000, desc: 'C√° t√≠nh, nƒÉng ƒë·ªông', img: 'https://via.placeholder.com/300x200?text=Qu·∫ßn+4', images: ['https://via.placeholder.com/400x300?text=Qu·∫ßn+4', 'https://via.placeholder.com/400x300?text=Qu·∫ßn+4-2'] },
                { id: 205, name: 'Qu·∫ßn jean ·ªëng r·ªông', price: 20000, desc: 'Tho·∫£i m√°i, d·ªÖ ph·ªëi ƒë·ªì', img: 'https://via.placeholder.com/300x200?text=Qu·∫ßn+5', images: ['https://via.placeholder.com/400x300?text=Qu·∫ßn+5', 'https://via.placeholder.com/400x300?text=Qu·∫ßn+5-2'] },
                { id: 206, name: 'Qu·∫ßn jean skinny', price: 20000, desc: '√îm d√°ng, t√¥n v√≥c d√°ng', img: 'https://via.placeholder.com/300x200?text=Qu·∫ßn+6', images: ['https://via.placeholder.com/400x300?text=Qu·∫ßn+6', 'https://via.placeholder.com/400x300?text=Qu·∫ßn+6-2'] }
            ],
            aothun: [
                { id: 301, name: '√Åo thun tr·∫Øng basic', price: 20000, desc: '√Åo thun cotton, tho√°ng m√°t', img: 'https://via.placeholder.com/300x200?text=√Åo+thun+1', images: ['https://via.placeholder.com/400x300?text=√Åo+thun+1', 'https://via.placeholder.com/400x300?text=√Åo+thun+1-2'] },
                { id: 302, name: '√Åo thun graphic unisex', price: 20000, desc: 'H·ªça ti·∫øt n·ªïi b·∫≠t, ph√π h·ª£p cho c·∫£ nam v√† n·ªØ', img: 'https://via.placeholder.com/300x200?text=√Åo+thun+2', images: ['https://via.placeholder.com/400x300?text=√Åo+thun+2', 'https://via.placeholder.com/400x300?text=√Åo+thun+2-2'] },
                { id: 303, name: '√Åo thun polo', price: 20000, desc: 'L·ªãch s·ª±, trang nh√£', img: 'https://via.placeholder.com/300x200?text=√Åo+thun+3', images: ['https://via.placeholder.com/400x300?text=√Åo+thun+3', 'https://via.placeholder.com/400x300?text=√Åo+thun+3-2'] },
                { id: 304, name: '√Åo thun oversize', price: 20000, desc: 'R·ªông r√£i, tho·∫£i m√°i', img: 'https://via.placeholder.com/300x200?text=√Åo+thun+4', images: ['https://via.placeholder.com/400x300?text=√Åo+thun+4', 'https://via.placeholder.com/400x300?text=√Åo+thun+4-2'] },
                { id: 305, name: '√Åo thun th·ªÉ thao', price: 20000, desc: 'Th·∫•m h√∫t m·ªì h√¥i t·ªët', img: 'https://via.placeholder.com/300x200?text=√Åo+thun+5', images: ['https://via.placeholder.com/400x300?text=√Åo+thun+5', 'https://via.placeholder.com/400x300?text=√Åo+thun+5-2'] },
                { id: 306, name: '√Åo thun crop top', price: 20000, desc: 'Phong c√°ch n·ªØ t√≠nh', img: 'https://via.placeholder.com/300x200?text=√Åo+thun+6', images: ['https://via.placeholder.com/400x300?text=√Åo+thun+6', 'https://via.placeholder.com/400x300?text=√Åo+thun+6-2'] }
            ]
        };

        const vouchers = [
            { code: 'WELCOME10', discount: 10, description: 'Gi·∫£m 10% cho ƒë∆°n h√†ng ƒë·∫ßu ti√™n' },
            { code: 'TECH50', discount: 50000, description: 'Gi·∫£m 50.000ƒë cho ƒë∆°n t·ª´ 1 tri·ªáu' },
            { code: 'SALE20', discount: 20, description: 'Gi·∫£m 20% t·ªëi ƒëa 500.000ƒë' }
        ];

        let cart = [];
        let currentUser = null;
        let selectedVoucher = null;
        let currentCarouselIndex = 0;
        let carouselInterval;
        let currentProductDetail = null;

        // Scroll functions
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else if (sectionId === 'home') {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Render products carousel
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map((product, index) => `
                <div class="product-card" style="animation-delay: ${(index % 5) * 0.1}s">
                    <div class="product-image">${product.emoji}</div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-description">${product.description}</div>
                        <div class="product-price">${product.price.toLocaleString('vi-VN')}ƒë</div>
                        <div class="product-actions">
                            <button class="btn btn-primary" onclick="addToCart(${product.id})">Th√™m v√†o gi·ªè</button>
                            <button class="btn btn-secondary" onclick="viewDetails(${product.id})">Chi ti·∫øt</button>
                        </div>
                    </div>
                </div>
            `).join('');

            renderCarouselDots();
            startCarousel();
        }

        // Carousel functions
        function renderCarouselDots() {
            const totalPages = Math.ceil(products.length / 5);
            const dotsContainer = document.getElementById('carouselDots');
            dotsContainer.innerHTML = '';
            
            for (let i = 0; i < totalPages; i++) {
                const dot = document.createElement('div');
                dot.className = 'dot' + (i === 0 ? ' active' : '');
                dot.onclick = () => goToCarouselPage(i);
                dotsContainer.appendChild(dot);
            }
        }

        function goToCarouselPage(index) {
            currentCarouselIndex = index;
            updateCarousel();
        }

        function updateCarousel() {
            const grid = document.getElementById('productsGrid');
            const offset = -(currentCarouselIndex * 100);
            grid.style.transform = `translateX(${offset}%)`;
            
            document.querySelectorAll('.dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentCarouselIndex);
            });
        }

        function startCarousel() {
            stopCarousel();
            carouselInterval = setInterval(() => {
                const totalPages = Math.ceil(products.length / 5);
                currentCarouselIndex = (currentCarouselIndex + 1) % totalPages;
                updateCarousel();
            }, 5000);
        }

        function stopCarousel() {
            if (carouselInterval) {
                clearInterval(carouselInterval);
            }
        }

        // Category Modal
        function openCategoryModal(category) {
            const modal = document.getElementById('categoryModal');
            const titleMap = {
                aokhoac: '√Åo Kho√°c',
                quan: 'Qu·∫ßn Jean',
                aothun: '√Åo Thun'
            };
            
            document.getElementById('categoryTitle').textContent = titleMap[category];
            renderCategoryProducts(category);
            modal.style.display = 'flex';
        }

        function closeCategoryModal() {
            document.getElementById('categoryModal').style.display = 'none';
        }

        function renderCategoryProducts(category) {
            const grid = document.getElementById('categoryProductsGrid');
            const items = categoryProducts[category] || [];
            
            grid.innerHTML = items.map(item => `
                <div class="category-product-item" onclick="showProductDetail(${item.id}, '${category}')">
                    <img src="${item.img}" alt="${item.name}" class="category-product-image">
                    <div class="category-product-info">
                        <div class="category-product-title">${item.name}</div>
                        <div class="category-product-desc">${item.desc}</div>
                        <div class="category-product-price">${item.price.toLocaleString('vi-VN')}ƒë</div>
                    </div>
                </div>
            `).join('');
        }

        // Product Detail Modal
        function showProductDetail(productId, category) {
            const product = categoryProducts[category].find(p => p.id === productId);
            if (!product) return;
            
            currentProductDetail = { ...product, category };
            
            document.getElementById('detailName').textContent = product.name;
            document.getElementById('detailDesc').textContent = product.desc;
            document.getElementById('detailPrice').textContent = product.price.toLocaleString('vi-VN') + 'ƒë';
            
            const imagesGrid = document.getElementById('productImagesGrid');
            imagesGrid.innerHTML = product.images.map(img => `
                <img src="${img}" alt="${product.name}" class="product-detail-image">
            `).join('');
            
            document.getElementById('productDetailModal').style.display = 'flex';
        }

        function closeProductDetail() {
            document.getElementById('productDetailModal').style.display = 'none';
            currentProductDetail = null;
        }

        function addToCartFromDetail() {
            if (!currentUser) {
                showNotification('Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ mua h√†ng!', 'error');
                closeProductDetail();
                showAuthModal();
                return;
            }

            if (!currentProductDetail) return;

            const existingItem = cart.find(item => item.id === currentProductDetail.id);
            
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ 
                    ...currentProductDetail, 
                    quantity: 1,
                    emoji: 'üëï'
                });
            }
            
            updateCartUI();
            showNotification('ƒê√£ th√™m ' + currentProductDetail.name + ' v√†o gi·ªè h√†ng!', 'success');
            closeProductDetail();
        }

        // User System
        function showAuthModal() {
            document.getElementById('authModal').style.display = 'flex';
        }

        function closeAuthModal() {
            document.getElementById('authModal').style.display = 'none';
        }

        function switchTab(tab) {
            const tabs = document.querySelectorAll('.auth-tab');
            const forms = document.querySelectorAll('.auth-form');

            tabs.forEach(t => t.classList.remove('active'));
            forms.forEach(f => f.classList.remove('active'));

            if (tab === 'login') {
                tabs[0].classList.add('active');
                document.getElementById('loginForm').classList.add('active');
            } else {
                tabs[1].classList.add('active');
                document.getElementById('registerForm').classList.add('active');
            }
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = e.target[0].value;

            currentUser = {
                name: email.split('@')[0],
                email: email,
                points: 1500
            };

            updateUserUI();
            closeAuthModal();
            showNotification('ƒêƒÉng nh·∫≠p th√†nh c√¥ng! Ch√†o m·ª´ng ' + currentUser.name, 'success');
            e.target.reset();
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = e.target[0].value;
            const email = e.target[1].value;
            const password = e.target[2].value;
            const confirmPassword = e.target[3].value;

            if (password !== confirmPassword) {
                showNotification('M·∫≠t kh·∫©u kh√¥ng kh·ªõp!', 'error');
                return;
            }

            currentUser = {
                name: name,
                email: email,
                points: 500
            };

            updateUserUI();
            closeAuthModal();
            showNotification('ƒêƒÉng k√Ω th√†nh c√¥ng! B·∫°n nh·∫≠n ƒë∆∞·ª£c 500 ƒëi·ªÉm ch√†o m·ª´ng! üéâ', 'success');
            e.target.reset();
        }

        function logout() {
            currentUser = null;
            updateUserUI();
            showNotification('ƒê√£ ƒëƒÉng xu·∫•t th√†nh c√¥ng!', 'success');
        }

        function updateUserUI() {
            const loginBtn = document.getElementById('loginBtn');
            const userInfo = document.getElementById('userInfo');
            const userName = document.getElementById('userName');
            const userPoints = document.getElementById('userPoints');
            const pointsDisplay = document.getElementById('pointsDisplay');

            if (currentUser) {
                loginBtn.style.display = 'none';
                userInfo.classList.add('active');
                userName.textContent = 'üë§ ' + currentUser.name;
                userPoints.textContent = currentUser.points;
                pointsDisplay.style.display = 'block';
                animateNumber(userPoints, 0, currentUser.points, 1000);
            } else {
                loginBtn.style.display = 'block';
                userInfo.classList.remove('active');
                pointsDisplay.style.display = 'none';
            }
        }

        // Cart functions
        function addToCart(productId) {
            if (!currentUser) {
                showNotification('Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ mua h√†ng!', 'error');
                showAuthModal();
                return;
            }

            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCartUI();

            const cartIcon = document.querySelector('.cart-icon');
            cartIcon.style.transform = 'scale(1.5) rotate(10deg)';
            setTimeout(() => {
                cartIcon.style.transform = 'scale(1)';
            }, 300);

            showNotification('ƒê√£ th√™m ' + product.name + ' v√†o gi·ªè h√†ng!', 'success');
        }

        function updateCartUI() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
            document.getElementById('floatingCartCount').textContent = count;

            const cartItemsDiv = document.getElementById('cartItems');
            if (cart.length === 0) {
                cartItemsDiv.innerHTML = '<p style="text-align: center; color: #999; padding: 2rem;">Gi·ªè h√†ng tr·ªëng</p>';
            } else {
                cartItemsDiv.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <div class="cart-item-image">${item.emoji || 'üëï'}</div>
                        <div class="cart-item-info">
                            <div style="font-weight: bold;">${item.name}</div>
                            <div style="color: #666;">S·ªë l∆∞·ª£ng: ${item.quantity}</div>
                            <div style="color: #667eea; font-weight: bold;">${(item.price * item.quantity).toLocaleString('vi-VN')}ƒë</div>
                        </div>
                        <button onclick="removeFromCart(${item.id})" style="background: #ff4757; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer;">X√≥a</button>
                    </div>
                `).join('');
            }

            updateCartTotal();
            renderVouchers();
        }

        function updateCartTotal() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let discount = 0;

            if (selectedVoucher) {
                if (selectedVoucher.discount > 100) {
                    discount = selectedVoucher.discount;
                } else {
                    discount = subtotal * (selectedVoucher.discount / 100);
                    if (discount > 500000) discount = 500000;
                }
            }

            const total = subtotal - discount;
            const earnPoints = Math.floor(total / 1000);

            document.getElementById('subtotal').textContent = subtotal.toLocaleString('vi-VN') + 'ƒë';
            document.getElementById('discount').textContent = '-' + discount.toLocaleString('vi-VN') + 'ƒë';
            document.getElementById('cartTotal').textContent = total.toLocaleString('vi-VN') + 'ƒë';
            document.getElementById('earnPoints').textContent = earnPoints;

            if (currentUser) {
                document.getElementById('cartUserPoints').textContent = currentUser.points;
            }

            document.getElementById('discountRow').style.display = discount > 0 ? 'flex' : 'none';
        }

        function renderVouchers() {
            if (!currentUser) return;

            const voucherList = document.getElementById('voucherList');
            voucherList.innerHTML = '<h4 style="margin: 1rem 0 0.5rem 0; font-size: 0.9rem;">Voucher c√≥ s·∫µn:</h4>' +
                vouchers.map(v => `
                    <div class="voucher-item ${selectedVoucher?.code === v.code ? 'selected' : ''}" 
                         onclick="selectVoucher('${v.code}')">
                        <div style="font-weight: bold; margin-bottom: 0.3rem;">
                            ${v.code} - ${v.discount > 100 ? v.discount.toLocaleString('vi-VN') + 'ƒë' : v.discount + '%'}
                        </div>
                        <div style="font-size: 0.85rem; opacity: 0.8;">${v.description}</div>
                    </div>
                `).join('');
        }

        function applyVoucher() {
            const code = document.getElementById('voucherInput').value.toUpperCase();
            const voucher = vouchers.find(v => v.code === code);

            if (voucher) {
                selectedVoucher = voucher;
                updateCartTotal();
                renderVouchers();
                document.getElementById('voucherInput').value = '';
                showNotification('√Åp d·ª•ng voucher th√†nh c√¥ng!', 'success');
            } else {
                showNotification('M√£ voucher kh√¥ng h·ª£p l·ªá!', 'error');
            }
        }

        function selectVoucher(code) {
            const voucher = vouchers.find(v => v.code === code);
            if (selectedVoucher?.code === code) {
                selectedVoucher = null;
                showNotification('ƒê√£ b·ªè ch·ªçn voucher', 'success');
            } else {
                selectedVoucher = voucher;
                showNotification('ƒê√£ √°p d·ª•ng voucher ' + code, 'success');
            }
            updateCartTotal();
            renderVouchers();
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
            showNotification('ƒê√£ x√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng', 'success');
        }

        function toggleCart() {
            const modal = document.getElementById('cartModal');
            if (modal.style.display === 'flex') {
                modal.style.display = 'none';
            } else {
                modal.style.display = 'flex';
                updateCartUI();
            }
        }

        function viewDetails(productId) {
            const product = products.find(p => p.id === productId);
            alert(`Chi ti·∫øt s·∫£n ph·∫©m:\n\n${product.name}\n${product.description}\nGi√°: ${product.price.toLocaleString('vi-VN')}ƒë`);
        }

        function checkout() {
            if (!currentUser) {
                showNotification('Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ thanh to√°n!', 'error');
                toggleCart();
                showAuthModal();
                return;
            }

            if (cart.length === 0) {
                showNotification('Gi·ªè h√†ng tr·ªëng!', 'error');
                return;
            }

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let discount = 0;

            if (selectedVoucher) {
                if (selectedVoucher.discount > 100) {
                    discount = selectedVoucher.discount;
                } else {
                    discount = subtotal * (selectedVoucher.discount / 100);
                    if (discount > 500000) discount = 500000;
                }
            }

            const total = subtotal - discount;
            const earnPoints = Math.floor(total / 1000);

            currentUser.points += earnPoints;

            showNotification(`ƒê·∫∑t h√†ng th√†nh c√¥ng! üéâ\nB·∫°n nh·∫≠n ƒë∆∞·ª£c ${earnPoints} ƒëi·ªÉm.\nT·ªïng ƒëi·ªÉm: ${currentUser.points}`, 'success');

            cart = [];
            selectedVoucher = null;
            updateCartUI();
            updateUserUI();
            toggleCart();
        }

        // Search function
        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (!searchTerm) {
                showNotification('Vui l√≤ng nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm', 'error');
                return;
            }
            showNotification('T√≠nh nƒÉng t√¨m ki·∫øm ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn!', 'success');
        }

        // Notification
        function showNotification(message, type) {
            const notif = document.getElementById('notification');
            notif.textContent = message;
            notif.className = 'notification show ' + type;

            setTimeout(() => {
                notif.classList.remove('show');
            }, 3000);
        }

        // Animation helpers
        function animateNumber(element, start, end, duration) {
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;

            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    current = end;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current);
            }, 16);
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            const authModal = document.getElementById('authModal');
            const cartModal = document.getElementById('cartModal');
            const categoryModal = document.getElementById('categoryModal');
            const productDetailModal = document.getElementById('productDetailModal');

            if (event.target === authModal) {
                closeAuthModal();
            }
            if (event.target === cartModal) {
                toggleCart();
            }
            if (event.target === categoryModal) {
                closeCategoryModal();
            }
            if (event.target === productDetailModal) {
                closeProductDetail();
            }
        }

        // Initialize
        renderProducts();
        updateUserUI();

        // Pause carousel on hover
        document.querySelector('.products-carousel-container').addEventListener('mouseenter', stopCarousel);
        document.querySelector('.products-carousel-container').addEventListener('mouseleave', startCarousel);
    </script>
</body>
</html>