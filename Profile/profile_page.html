
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Information</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="profile_page.css" />
    
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="../MainPage/projectCSE310.html" class="back-btn"><i class="fas fa-arrow-left"></i> Back</a>
            <h2 id="username"><i class="fas fa-user-circle"></i> GuestUser</h2>
        </div>

        <p class="section-title"><i class="fas fa-key"></i> Account Management</p>
        <div class="password-section">
            <div class="password-input-group">
                <label for="password">Password:</label>
                <input type="password" id="password" value="123" readonly>
            </div>
            
            <div>
                <input type="checkbox" id="showPassword"> 
                <label for="showPassword">Show password</label>
            </div>

            <button onclick="changePassword()" class="btn-primary">
                <i class="fas fa-edit"></i> Change Password
            </button>
        </div>

        <div class="action-buttons">
            <button onclick="logout()" class="btn-secondary">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
        
        <hr>

        <div class="toggle-section">
            <span>Dark Mode:</span>
            <i class="fas fa-sun sun-icon"></i>
            <label class="switch">
                <input type="checkbox" id="darkModeToggle" onclick="toggleDarkMode()">
                <span class="slider"></span>
            </label>
            <i class="fas fa-moon moon-icon"></i>
        </div>

        <p class="section-title"><i class="fas fa-chart-line"></i> Activity Statistics</p>
        <div class="stats-section"></div>

        <div style="margin-top:1rem;">
            <label for="roleSelect">Select role:</label>
            <select id="roleSelect" onchange="updateRole()">
                <option value="guest">Guest</option>
                <option value="admin">Admin</option>
            </select>
        </div>
    </div>

    <script>
        let role = 'guest'; 
        let username = 'GuestUser';
        let password = '123';

        function updateRole() {
            role = document.getElementById('roleSelect').value;
            renderStats();
            document.getElementById('username').innerHTML = `<i class="fas fa-user-circle"></i> ${role === 'admin' ? 'AdminUser' : 'GuestUser'}`;
        }

        function renderStats() {
            const statsSection = document.querySelector('.stats-section');
            statsSection.innerHTML = '';

            if (role === 'admin') {
                statsSection.innerHTML = `
                    <div class="stat-card">
                        <h3><i class="fas fa-money-bill-wave"></i> Total Revenue:</h3>
                        <p><strong>100,000,000 VND</strong></p>
                    </div>
                    <div class="stat-card" onclick="toggleDropdown('productsAdmin')">
                        <h3><i class="fas fa-box-open"></i> Products <i id="icon-productsAdmin" class="fas fa-chevron-down"></i></h3>
                        <div id="productsAdmin" class="dropdown" style="display:none;">
                            <p>Total products sold: 500</p>
                            <p>Total products remaining: 1500</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h3><i class="fas fa-ticket-alt"></i> Remaining Vouchers:</h3>
                        <p><strong>200</strong></p>
                    </div>
                `;
            } else {
                statsSection.innerHTML = `
                    <div class="stat-card">
                        <h3><i class="fas fa-wallet"></i> Total Spending:</h3>
                        <p><strong>5,000,000 VND</strong></p>
                    </div>
                    <div class="stat-card" onclick="toggleDropdown('savingsGuest')">
                        <h3><i class="fas fa-hand-holding-usd"></i> Savings <i id="icon-savingsGuest" class="fas fa-chevron-down"></i></h3>
                        <div id="savingsGuest" class="dropdown" style="display:none;">
                            <p>Sale items count: 20</p>
                            <p>Normal price items count: 30</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h3><i class="fas fa-gift"></i> My Vouchers:</h3>
                        <p><strong>5</strong></p>
                    </div>
                `;
            }
        }
        
        function toggleDropdown(id) {
            const dropdown = document.getElementById(id);
            const icon = document.getElementById(`icon-${id}`);
            
            const isVisible = dropdown.style.display === 'block';
            dropdown.style.display = isVisible ? 'none' : 'block';
            icon.classList.remove(isVisible ? 'fa-chevron-up' : 'fa-chevron-down');
            icon.classList.add(isVisible ? 'fa-chevron-down' : 'fa-chevron-up');
        }

        function toggleDarkMode() {
            const isDarkMode = document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
        }
        function applyDarkModeOnLoad() {
            const savedMode = localStorage.getItem('darkMode');
            if (savedMode === 'enabled') {
                document.body.classList.add('dark-mode');
                document.getElementById('darkModeToggle').checked = true;
            }
        }
        function showPassword() {
            const passwordInput = document.getElementById('password');
            const checkbox = document.getElementById('showPassword');
            passwordInput.type = checkbox.checked ? 'text' : 'password';
        }

        document.getElementById('showPassword').addEventListener('change', showPassword);

        function changePassword() {
            const newPassword = prompt('Enter new password:');
            if (newPassword) {
                password = newPassword;
                document.getElementById('password').value = newPassword;
                alert('Password changed!');
            }
        }

        function logout() {
            window.location.href = '../MainPage/projectCSE310.html';
            alert('Logged out successfully!');
        }

        renderStats();
        applyDarkModeOnLoad();
    </script>
</body>
</html>
